‚úÖ Connected to MySQL database
[2025-02-24 18:30:03] [INFO    ] discord.client: logging in using static token
[2025-02-24 18:30:04] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 40a19385b9cfeebcb0536e6f68c6f324).
‚úÖ Logged in as Cali#5463
‚úÖ Connected to MySQL database
[2025-02-24 18:30:09] [INFO    ] discord.client: logging in using static token
[2025-02-24 18:30:10] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: ec259c7f5f818c52fe812a39d506c45b).
‚úÖ Logged in as Cali#5463
‚úÖ Connected to MySQL database
[2025-02-24 18:30:43] [INFO    ] discord.client: logging in using static token
[2025-02-24 18:30:43] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: ca48ac75b6e6999f8afb552917245d38).
‚úÖ Logged in as Cali#5463
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
‚úÖ Connected to MySQL database
[2025-02-24 18:56:31] [INFO    ] discord.client: logging in using static token
[2025-02-24 18:56:32] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: fcfbc3479d568c5f6ccc4c5dc896c5a2).
‚úÖ Logged in as Cali#5463
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
  File "/home/ec2-user/ai-assistant/bot.py", line 72
    async def await save_thread(user_id, thread_id):
              ^
SyntaxError: invalid syntax
[2025-02-24 19:11:49] [INFO    ] discord.client: logging in using static token
[2025-02-24 19:11:49] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: c50a85699dd32d51cb9c8e7540718bb1).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hey
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 973680778200358932: thread_kNvlI89ysD4z8BIZd3cGwuSN
üìù Received text: hello
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f1b38f64550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 19:33:30] [INFO    ] discord.client: logging in using static token
[2025-02-24 19:33:30] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 73be89b6de259be0c0c170773a42c6db).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 973680778200358932: thread_kNvlI89ysD4z8BIZd3cGwuSN
üìù Received text: hey
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    expired_users = [user_id for user_id, (thread_id, timestamp) in thread_cache.items() if current_time - timestamp > expiration_time]
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    expiration_time = 86400  # 24 hours in seconds
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    async def memory_cleanup():
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7fd640aa4550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 124, in <module>
    asyncio.create_task(memory_cleanup())
NameError: name 'memory_cleanup' is not defined
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 124, in <module>
    asyncio.create_task(memory_cleanup())
NameError: name 'memory_cleanup' is not defined
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 124, in <module>
    asyncio.create_task(memory_cleanup())
NameError: name 'memory_cleanup' is not defined
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 124, in <module>
    asyncio.create_task(memory_cleanup())
NameError: name 'memory_cleanup' is not defined
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 124, in <module>
    asyncio.create_task(memory_cleanup())
NameError: name 'memory_cleanup' is not defined
[2025-02-24 19:55:30] [INFO    ] discord.client: logging in using static token
[2025-02-24 19:55:30] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 249d2f47d5128bc51d4dec90053f75d8).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hey
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hey
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    chunk = text[i:i + max_length]
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    async def send_long_message(channel, text):
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f5597e24550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:06:54] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:06:55] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 8ff54da75dda1d507a35cc27a097a9dd).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 416, in <module>
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 411, in <lambda>
  File "/home/ec2-user/ai-assistant/bot.py", line 409, in shutdown
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7fa0a7be6700>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:08:01] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:08:02] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 81821153e86fc649f68eb9b7d96a3d39).
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:08:05] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:08:05] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 1d9fdc5dcb7eb88fc089f13c43ffb61a).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7ff96d9e3550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:08:17] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:08:17] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: e5c76a31a9237cd78841b19848e7d98a).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f06367a4550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:08:55] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:08:56] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: d3cae8d653e99e5adc92db94aa395d50).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7fb927ee3550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
‚úÖ Connected to MySQL database
[2025-02-24 21:09:51] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:09:52] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: e4cc6758785e1fe60f65498a6d2f3a55).
‚úÖ Logged in as Cali#5463
‚úÖ Connected to MySQL database
[2025-02-24 21:10:06] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:10:07] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 1345f95d1db91ae8f7e5e5f2f791f2e5).
‚úÖ Logged in as Cali#5463
‚úÖ Connected to MySQL database
[2025-02-24 21:10:14] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:10:15] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 451c8c72aaed470755187eb91df51abb).
‚úÖ Logged in as Cali#5463
[2025-02-24 21:11:12] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:11:13] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 8be2d6a6e6af75c0cce46cca487d69ae).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: What is the captial of spain
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f7687da2550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:21:23] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:21:24] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 052d57410393d2b8c75cf5cb74c9fa9c).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f2653023550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:21:38] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:21:38] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: f30c0fb8c13f2d18bdb923a07b64fc79).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hey
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    for sig in (signal.SIGTERM, signal.SIGINT):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    loop.create_task(close_db_connection())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    loop = asyncio.get_event_loop()
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f2440ce3550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:26:53] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:26:53] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: b52517585ff00cda7b1b4584c04b33af).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hi
‚è≥ Processing OpenAI request...
[2025-02-24 21:28:29] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:28:29] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 2952ba02e365e582dd4662f7d83ada1b).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 21:30:08] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:30:09] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 3db75cb546925ce3fb98cf36b1006bd7).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 21:33:02] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:33:03] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 1072f154f0ff48cb827022f76e05934d).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 21:34:39] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:34:39] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 690dd923bbbf2301faa955f5c9e3e913).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚ö° Bot is running. Press Ctrl+C to stop.
[2025-02-24 21:36:37] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:36:38] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 254618f2864129e1123811be11d2170b).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚ö° Bot is running. Press Ctrl+C to stop.
[2025-02-24 21:38:15] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:38:16] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: f613bd95148cb0b4f42a1073723fb20b).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: whats the capital of maine
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: tsting'
‚è≥ Processing OpenAI request...
‚ö° Bot is running. Press Ctrl+C to stop.
[2025-02-24 21:42:08] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:42:09] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 0677cd0951250fc595f196390d1be6da).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚ö° Bot is running. Press Ctrl+C to stop.
[2025-02-24 21:43:44] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:43:45] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: dd48f06fd868a4e8e8a4c1afd12fac4b).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚ö° Bot is running. Press Ctrl+C to stop.
[2025-02-24 21:45:53] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:45:54] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 93345ad82716a19b703b5bb44b078fd4).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 21:47:30] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:47:31] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: df6ea4484509dcb0cd445eb6888df3cb).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f22411e3550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:47:36] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:47:36] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 471b3dbb5264b0e2dc0d810872c2afb0).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f9da83a3550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:48:23] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:48:24] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 9247a3d52aa81718a9dd8658ac70eb87).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
  File "/home/ec2-user/.local/lib/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    print("‚ö†Ô∏è MySQL pool did not close in time. Forcing shutdown.")
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    print("‚úÖ MySQL connection pool closed.")
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f76f35a3550>
Traceback (most recent call last):
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/.local/lib/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 21:54:46] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:54:46] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 5f890a4434c82a4b794d7cf69786c8b8).
‚úÖ Connected to MySQL database (async)
‚ùå Failed to connect to async MySQL.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 8, in <module>
    import aiomysql  # ‚úÖ Async MySQL Database
ModuleNotFoundError: No module named 'aiomysql'
[2025-02-24 21:59:32] [INFO    ] discord.client: logging in using static token
[2025-02-24 21:59:33] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 0692ea8bf51b7b8957f63f99be0eaf80).
‚úÖ Connected to MySQL database (async)
‚ùå Failed to connect to async MySQL.
‚úÖ Logged in as Cali#5463
Task exception was never retrieved
future: <Task finished name='Task-10' coro=<handle_user_message() done, defined at /home/ec2-user/ai-assistant/bot.py:148> exception=AttributeError("'NoneType' object has no attribute 'acquire'")>
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 160, in handle_user_message
    thread_id = await get_thread_id(user_id)
  File "/home/ec2-user/ai-assistant/bot.py", line 102, in get_thread_id
    async with db_pool.acquire() as conn:
AttributeError: 'NoneType' object has no attribute 'acquire'
[2025-02-24 22:01:14] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:01:14] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 609bd7afb54a4afdc63f36e69abc15cb).
‚úÖ Connected to MySQL database (async)
‚ùå Failed to connect to async MySQL.
‚úÖ Logged in as Cali#5463
[2025-02-24 22:07:27] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:07:27] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 56035e531580cbdb7d4023d612959afc).
üîÑ Attempting to connect to MySQL...
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hey
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this for me please as short as possible.
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343706038456553513/Discord_Discussion_-_Meeting_Agenda_and_Notes.docx?ex=67be3f44&is=67bcedc4&hm=c228bb5eebb3353473186ea1666dec701a099ff2d621542d981199834e74fcf5&
‚úÖ File successfully saved at: discord-files/discord_discussion_-_meeting_agenda_and_notes.docx
‚úÖ Extracted 1145 characters from discord_discussion_-_meeting_agenda_and_notes.docx
‚è≥ Processing OpenAI request...
[2025-02-24 22:08:25] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:08:26] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: cb7be38ac064151764b890bc1de504f4).
üîÑ Attempting to connect to MySQL...
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 22:08:51] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:08:52] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 01fff86415db13add73ffb31af7fd9f7).
üîÑ Attempting to connect to MySQL...
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: descirbe this image
üîπ Detected image: https://cdn.discordapp.com/attachments/1341092221046493275/1343706676557123684/Maha-Color.png?ex=67be3fdc&is=67bcee5c&hm=002d3ec6a269ea2d7dafb4cfaac9d173366e7e4546d07114ff0c8a4972eeb7a7&
‚úÖ Image successfully saved at: discord-images/maha-color.png
‚úÖ Image uploaded to OpenAI. File ID: file-B6LAzcN8eqzHVg28ZnRQzU
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343707076718891029/ReadMe.rtf?ex=67be403b&is=67bceebb&hm=ac736c1f2afcc15e3ff3efd97deaa0525a5055ef841cdd66acb6127dd56f5ba0&
‚úÖ File successfully saved at: discord-files/readme.rtf
‚ùå Error: No module named 'striprtf'
[2025-02-24 22:14:45] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:14:45] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 2189d0acf7e42f199d5ba91e606e5453).
üîÑ Attempting to connect to MySQL...
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343707788211257435/ReadMe.rtf?ex=67be40e5&is=67bcef65&hm=30682b070815cd9ca7d4b0ce831384161b8352927b8948304bf706e253a68ab4&
‚úÖ File successfully saved at: discord-files/readme.rtf
‚ùå Error: No module named 'striprtf'
‚úÖ Connected to MySQL database
[2025-02-24 22:22:30] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:22:30] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: cc46ba816c87be0d42bd5f5bd487b96f).
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: what is this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343709747534102558/ReadMe.rtf?ex=67be42b8&is=67bcf138&hm=8d2f7e0c3b97edf1415ce8014fcd7eaaa113b4d5137f233d210d6035fc31b6f7&
‚úÖ File successfully saved at: discord-files/readme.rtf
‚úÖ Extracted 3422 characters from readme.rtf
‚è≥ Processing OpenAI request...
‚úÖ Connected to MySQL database
[2025-02-24 22:24:23] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:24:24] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 85f94cba4e623ec34e1ab530f590c2f2).
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343710209540882432/ReadMe.rtf?ex=67be4326&is=67bcf1a6&hm=ed1f424f77d781d8a1009de9c24f4f1e3841c8f00a383d1fda1039a1a3f8a4db&
‚úÖ File successfully saved at: discord-files/readme.rtf
‚úÖ Extracted 3422 characters from readme.rtf
‚è≥ Processing OpenAI request...
[2025-02-24 22:26:18] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:26:19] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 0d9c89f47adcdcafea43d46ce00bdbdd).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: main points from this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343710694830374952/ReadMe.rtf?ex=67be439a&is=67bcf21a&hm=c92b7e2047b3fd0bce67d05cbeffc1afbe7816773853787f5b4d1b3db6736813&
‚úÖ File successfully saved at: discord-files/readme.rtf
‚úÖ Extracted 3422 characters from readme.rtf
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    bot.run(DISCORD_TOKEN)
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    asyncio.run(close_db_connection())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f181da1dc10>
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 22:26:51] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:26:52] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 9704be551f27bf7894ad547d03bda13a).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    asyncio.run(close_db_connection())
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f0ca145dc10>
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
Python Executable: /home/ec2-user/ai-assistant/venv/bin/python
[2025-02-24 22:34:18] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:34:18] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: d379786c3edc59ff3c08ed117a4e3d97).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 377, in <module>
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 372, in <lambda>
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in shutdown
    signal.signal(signal.SIGTERM, lambda signum, frame: shutdown())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7fe2d5d1dc10>
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 22:35:32] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:35:33] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 61ddc45670b5538330510fe88c968575).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343713091568926771/bot-example.rtf?ex=67be45d6&is=67bcf456&hm=f3cf5ae29e7bb9cbb3ae0a659bfb9f4455fea2f959a001890d8e0b84ba9f58ff&
‚úÖ File successfully saved at: discord-files/bot-example.rtf
‚úÖ Extracted 6415 characters from bot-example.rtf
‚è≥ Processing OpenAI request...
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 375, in <module>
    asyncio.create_task(shutdown())
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/discord/client.py", line 869, in run
    asyncio.run(runner())
  File "/usr/lib64/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 1869, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib64/python3.9/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
  File "/home/ec2-user/ai-assistant/bot.py", line 370, in <lambda>
    await close_db_connection()
  File "/home/ec2-user/ai-assistant/bot.py", line 368, in shutdown
    print("‚è≥ Initiating shutdown...")
  File "/usr/lib64/python3.9/asyncio/runners.py", line 33, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
Exception ignored in: <function Connection.__del__ at 0x7f51e9c1dc10>
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 1131, in __del__
  File "/home/ec2-user/ai-assistant/venv/lib64/python3.9/site-packages/aiomysql/connection.py", line 339, in close
  File "/usr/lib64/python3.9/asyncio/selector_events.py", line 698, in close
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 751, in call_soon
  File "/usr/lib64/python3.9/asyncio/base_events.py", line 515, in _check_closed
RuntimeError: Event loop is closed
sys:1: RuntimeWarning: coroutine 'close_db_connection' was never awaited
[2025-02-24 22:40:00] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:40:01] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: b9a1b0959f0d2a181f1b4fb62fafaa76).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 22:40:11] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:40:11] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: c3edea6c5ba47a64fe5fbad1b868a825).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: what is this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343714200291250288/paywall-test.rtf?ex=67be46de&is=67bcf55e&hm=38bbf862ced5b740128347164e678ab105c7573b2d029f7abb9eb12d0182cdbc&
‚úÖ File successfully saved at: discord-files/paywall-test.rtf
‚úÖ Extracted 6415 characters from paywall-test.rtf
‚è≥ Processing OpenAI request...
‚è≥ Initiating shutdown...
‚úÖ Async database connection closed.
‚úÖ Shutdown complete. Exiting process now...
[2025-02-24 22:40:54] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:40:54] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 7f10bf62be26f9e0b9dcbe3a3e5c7c82).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 973680778200358932: thread_kNvlI89ysD4z8BIZd3cGwuSN
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341444120513876009/1343714457725177937/Discord_Developer_Portal_Documentation_Teams.pdf?ex=67be471b&is=67bcf59b&hm=a600147ec1824d9dcb83977dd42e9c7b5bbc3ba9f1999519586258d37bf2aecf&
‚úÖ File successfully saved at: discord-files/discord_developer_portal_documentation_teams.pdf
‚úÖ Extracted 2301 characters from discord_developer_portal_documentation_teams.pdf
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: key points please
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343714914459455590/Channels_for_Discord.docx?ex=67be4788&is=67bcf608&hm=42c6d01dd533be0c3f872d39eaf442c70a9b1263b30798df59c711a2836bd8ec&
‚úÖ File successfully saved at: discord-files/channels_for_discord.docx
‚úÖ Extracted 2135 characters from channels_for_discord.docx
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343715823243759656/Invoice-F9717370-0012.pdf?ex=67be4861&is=67bcf6e1&hm=11e519873e6b095745cb8b459cf184a4a0768823ecbc574cb82e807cdac69515&
‚úÖ File successfully saved at: discord-files/invoice-f9717370-0012.pdf
‚úÖ Extracted 1541 characters from invoice-f9717370-0012.pdf
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 548752969395470337: thread_MfghNnO43DVnJGmgn4QlPU6T
üìù Received text: Describe this
üîπ Detected image: https://cdn.discordapp.com/attachments/1341170981867225140/1343715828901744650/IMG_1643.jpg?ex=67be4862&is=67bcf6e2&hm=f694d69cac8b362b75b3d0a382014039bcaf818f15ad3392a96552af46508b93&
‚úÖ Image successfully saved at: discord-images/img_1643.jpg
‚úÖ Image uploaded to OpenAI. File ID: file-EgG67xT2J6jRZpoH4swkfF
‚è≥ Processing OpenAI request...
[2025-02-24 22:53:23] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:53:23] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: f06a632d8bb765572a2ff782bfacf001).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hello
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343717540295086090/ReadMe.rtf?ex=67be49fa&is=67bcf87a&hm=bdc808943ccc91f841b62ac2cda95909fdeac96a7024b43bc2f2d85344a8fee4&
‚úÖ File successfully saved at: discord-files/readme.rtf
‚úÖ Extracted 3422 characters from readme.rtf
‚è≥ Processing OpenAI request...
[2025-02-24 22:56:30] [INFO    ] discord.client: logging in using static token
[2025-02-24 22:56:31] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: cfcc471e185555514b42c93de8359e8f).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hello
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: what is this
‚ö†Ô∏è Unsupported file type: img_1570_2.heic
‚úÖ Retrieved existing thread from cache/MySQL for user 548752969395470337: thread_MfghNnO43DVnJGmgn4QlPU6T
üìù Received text: Key points from this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341170981867225140/1343718922947526788/iphone-16-pro-later.txt?ex=67be4b44&is=67bcf9c4&hm=e8e1a2c3c9285dd23fa2af41a95171b11fdfb674cbd2cf7144c89425d477d0a7&
‚úÖ File successfully saved at: discord-files/iphone-16-pro-later.txt
‚úÖ Extracted 4924 characters from iphone-16-pro-later.txt
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 548752969395470337: thread_MfghNnO43DVnJGmgn4QlPU6T
üìù Received text: Where is this?
üîπ Detected image: https://cdn.discordapp.com/attachments/1341170981867225140/1343719582300639253/IMG_1646.png?ex=67be4be1&is=67bcfa61&hm=324ed5809847d65ff031a57418abfd1a2d49b778bfd2f47ed0104986006da04f&
‚úÖ Image successfully saved at: discord-images/img_1646.png
‚úÖ Image uploaded to OpenAI. File ID: file-7SgH1ZNbbsEYajzn2S7PtK
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 548752969395470337: thread_MfghNnO43DVnJGmgn4QlPU6T
üìù Received text: Which city is it in
‚è≥ Processing OpenAI request...
[2025-02-24 23:20:01] [INFO    ] discord.client: logging in using static token
[2025-02-24 23:20:01] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: eca986a4311802f9a0ee41ce1b4bbb2e).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: thanks
‚è≥ Processing OpenAI request...
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: summarize this
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343724430551158785/Video_Stats.xlsx?ex=67be5065&is=67bcfee5&hm=8cd0bf42162665a9f975762f6432cc5ea758a2a388d50f0865a37f271d0e37bc&
‚úÖ File successfully saved at: discord-files/video_stats.xlsx
‚úÖ Extracted 1181 characters from video_stats.xlsx
‚è≥ Processing OpenAI request...
[2025-02-24 23:23:41] [INFO    ] discord.client: logging in using static token
[2025-02-24 23:23:42] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 274ade01f3b88fb5ccce1b958462911e).
Task exception was never retrieved
future: <Task finished name='Task-10' coro=<handle_user_message() done, defined at /home/ec2-user/ai-assistant/bot.py:178> exception=AttributeError("'NoneType' object has no attribute 'acquire'")>
Traceback (most recent call last):
  File "/home/ec2-user/ai-assistant/bot.py", line 190, in handle_user_message
    thread_id = await get_thread_id(user_id)
  File "/home/ec2-user/ai-assistant/bot.py", line 129, in get_thread_id
    async with db_pool.acquire() as conn:
AttributeError: 'NoneType' object has no attribute 'acquire'
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
[2025-02-24 23:23:55] [INFO    ] discord.client: logging in using static token
[2025-02-24 23:23:56] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 8e81bfd94718147c1872b1dedfc64f91).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: hey
‚è≥ Processing OpenAI request...
üîç No stale cache entries found.
üîç No stale cache entries found.
[2025-02-24 23:26:32] [INFO    ] discord.client: logging in using static token
[2025-02-24 23:26:33] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 3b07d93c6f7bf5f3b2963dc3218a3091).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: describe this
üîπ Detected image: https://cdn.discordapp.com/attachments/1341092221046493275/1343725810779160639/IMG_1632.PNG?ex=67be51ae&is=67bd002e&hm=d31db0c3ea0a758df76430457b89a875b2158ea3862491c20255504bf3f6571d&
‚úÖ Image successfully saved at: discord-images/img_1632.png
‚úÖ Image uploaded to OpenAI. File ID: file-QmBA5yLZWVtaU9pPNpN32q
‚è≥ Processing OpenAI request...
üßπ ‚úÖ Removed cached thread for inactive user 1304209255741784141.
‚úÖ Retrieved existing thread from cache/MySQL for user 1304209255741784141: thread_p7tGyRMDGr4SsHAQoXf9jIGX
üìù Received text: key points
üìÑ Detected file: https://cdn.discordapp.com/attachments/1341092221046493275/1343726257220620379/paywall-test.rtf?ex=67be5218&is=67bd0098&hm=c32de9ff6d7cd941a9ad0c1389a33d40eadea1a7e9f9a9ec6c661328b3abc8ff&
‚úÖ File successfully saved at: discord-files/paywall-test.rtf
‚úÖ Extracted 6415 characters from paywall-test.rtf
‚è≥ Processing OpenAI request...
üßπ ‚úÖ Removed cached thread for inactive user 1304209255741784141.
‚úÖ Retrieved existing thread from cache/MySQL for user 973680778200358932: thread_kNvlI89ysD4z8BIZd3cGwuSN
üìù Received text: hey
‚è≥ Processing OpenAI request...
üßπ ‚úÖ Removed cached thread for inactive user 973680778200358932.
[2025-02-24 23:30:07] [INFO    ] discord.client: logging in using static token
[2025-02-24 23:30:08] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 00c9cb67f5f8e394f84d99a86743850b).
‚úÖ Connected to MySQL database (async)
‚úÖ Async MySQL connection established.
‚úÖ Logged in as Cali#5463
